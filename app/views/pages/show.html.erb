<% content_for(:opengraph) do %>
  <meta property="og:description" content="" />
  <meta property="og:title" content="" />
  <meta property="og:type" content="website" />
<% end %>

<div class="flex flex-col gap-10 w-full px-4 lg:px-0 pt-8 max-w-5xl md:flex-row">
  <div class="prose w-full">
    <%= render_page(@content, @data).html_safe %>
  </div>

  <% if @data["layout"] == "policy" %>
    <%= render "pages/sidebar", title: "Policies", links: policies.map { |policy| { href: "/#{policy[:slug]}", text: t("home.#{policy[:slug]}") } } %>
  <% elsif @data["layout"] == "post" %>
    <%= render "pages/sidebar", title: "Archive", links: posts %>
  <% elsif @data["layout"] == "tech" %>
    <div class="flex flex-col gap-4 h-min md:p-4 md:w-80 md:border md:border-gray-200 md:rounded-lg md:shadow">
      <h2 class="text-xl font-bold">
        Tech
      </h2>
      <ol class="flex flex-col gap-4">

        <li>
          <a href="/dependency-version-numbers" class="text-blue-700 flex flex-row gap-2 items-center underline">
            Dependency Version Numbers
          </a>
        </li>

        <li>
          <a href="/environment-variables" class="text-blue-700 flex flex-row gap-2 items-center underline">
            Environment Variables
          </a>
        </li>

        <li>
          <a href="/service-architecture-diagram" class="text-blue-700 flex flex-row gap-2 items-center underline">
            Service Architecture Diagram
          </a>
        </li>

        <li>
          <a href="/work-environment-jobs" class="text-blue-700 flex flex-row gap-2 items-center underline">
            Work Environment Jobs
          </a>
        </li>

      </ol>
    </div>
  <% elsif @data["layout"] == "about" %>


    </div>
  </div>

  <% end %>

</div>

<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
</script>