<div class="container flex flex-col gap-8 w-full p-8">

  <%= render partial: "admin/icon-breadcrumbs", locals: {
    items: [
      {
        icon: "fa-solid fa-lock",
        href: "/admin",
        text: "Admin",
      },
      {
        icon: "fa-solid fa-chart-line",
        href: "/admin/statistics",
        text: "Statistics",
      },
    ]
  } %>

  <%= render partial: "admin/icon-heading", locals: {
    icon: "fa-solid fa-user",
    text: "User Growth",
  } %>

  <section class="w-full flex flex-col gap-10 flex-1 md:p-6 bg-white md:border md:border-gray-200 md:rounded-lg md:shadow">
    <h2 class="text-2xl">
      Signups Per Day
    </h2>
    <%= column_chart @days.map { |d| [d.strftime("%Y-%m-%d"), User::Account.where('DATE(created_at) = ?', d).count] }.to_h %>
  </section>

  <section class="w-full flex flex-col gap-10 flex-1 md:p-6 bg-white md:border md:border-gray-200 md:rounded-lg md:shadow">
    <h2 class="text-2xl">
      User Count Over Time
    </h2>
    <%= line_chart @days.map { |d| [d.strftime("%Y-%m-%d"), User::Account.where('DATE(created_at) <= ?', d).count] }.to_h %>
  </section>

</div>