<div class="container flex flex-col gap-8 w-full p-8">

  <%= render partial: "admin/icon-breadcrumbs", locals: {
    items: [
      {
        icon: "fa-solid fa-lock",
        href: "/admin",
        text: "Admin",
      },
      {
        icon: "fa-solid fa-book",
        href: admin_labour_law_documents_path,
        text: "Labour Law",
      },
      {
        icon: "fa-solid fa-book",
        href: admin_labour_law_document_path(@document),
        text: @document.document_name,
      },
      {
        icon: "fa-solid fa-book",
        href: admin_labour_law_revisions_path(document_id: @document.id),
        text: "Revisions",
      },
      {
        icon: "fa-solid fa-book",
        href: admin_labour_law_revision_path(@revision),
        text: @revision.revision_code,
      },
      {
        icon: "fa-solid fa-book",
        href: admin_labour_law_elements_path(revision_id: @revision.id),
        text: "Elements",
      },
    ]
  } %>

  <%= render partial: "admin/icon-heading", locals: {
    icon: "fa-solid fa-lock",
    text: @element.id,
  } %>

  <%= render partial: "admin/icon-list", locals: {
    items: [
      {
        icon: "fa-solid fa-book",
        top: { text: "Element Type" },
        bottom: { text: @element.element_type },
      },
      {
        icon: "fa-solid fa-book",
        top: { text: "Element Index" },
        bottom: { text: @element.element_index },
      },
      {
        icon: "fa-solid fa-book",
        top: { text: "Element Chapter" },
        bottom: { text: @element.element_chapter },
      },
      {
        icon: "fa-solid fa-book",
        top: { text: "Element Section" },
        bottom: { text: @element.element_section },
      },
      {
        icon: "fa-solid fa-book",
        top: { text: "Element Paragraph" },
        bottom: { text: @element.element_paragraph },
      },
      {
        icon: "fa-solid fa-book",
        top: { text: "Edit", href: edit_admin_labour_law_element_path(@element) },
        bottom: { text: "Change something" },
      },
      {
        icon: "fa-solid fa-book",
        top: { text: "Translations", href: admin_labour_law_translations_path(element_id: @element.id)},
        bottom: { text: "#{@element.translations.count}" },
      }
    ]
  } %> 

</div>

<div class="container flex flex-col gap-8 w-full p-8">

    <%= link_to(
      "New",
      "/admin/labour_law/elements/new?revision_code=#{@revision.revision_code}",
      class: "w-max bg-slate-400 text-blue-700 text-white py-2 px-4 whitespace-nowrap rounded h-min"
    ) %>

    <%= link_to(
      "New paragraph",
      "/admin/labour_law/elements/new?revision_code=#{@revision.revision_code}&type=new_paragraph",
      class: "w-max bg-slate-400 text-blue-700 text-white py-2 px-4 whitespace-nowrap rounded h-min"
    ) %>

    <%= link_to(
      "Insert after",
      "/admin/labour_law/elements/new?revision_code=#{@revision.revision_code}&type=new_paragraph&position=after&element_id=#{@element.id}",
      class: "w-max bg-slate-400 text-blue-700 text-white py-2 px-4 whitespace-nowrap rounded h-min"
    ) %>

  </div>

  <% @element.translations.each do |translation| %>
    <h2 class="text-2xl bold">
      <%= translation.translation_locale %>
    </h2>

    <%= form_for(
      translation,
      as: "translation",
      url: "/admin/labour_law/translations/#{translation.id}",
      builder: TailwindBuilder,
      :html => {class: "flex flex-col gap-8" }) do |f| %>

      <div class="w-128 flex flex-col">
        <%= f.label :translation_text %>
        <%= f.text_area :translation_text, size: "128x8", html: { class: "font-mono" } %>
      </div>

      <div class="actions">
        <%= f.submit "Update" %>
      </div>

  <% end %>
<% end %>

</div>